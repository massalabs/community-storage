# Generated by setup.sh - DO NOT COMMIT PRIVATE KEYS
# Private keys are stored in env/*.env files (gitignored)
services:
  storage-1:
    build: .
    container_name: storage-1
    ports: ["4343:4343", "4001:4001/tcp", "4001:4001/udp"]
    env_file: ./env/storage-1.env
    volumes: [storage-1-data:/app/data]
    healthcheck: {test: ["CMD", "curl", "-f", "http://localhost:4343/health"], interval: 10s, timeout: 3s, retries: 3}
  storage-2:
    build: .
    container_name: storage-2
    ports: ["4344:4343", "4002:4001/tcp", "4002:4001/udp"]
    env_file: ./env/storage-2.env
    volumes: [storage-2-data:/app/data]
    healthcheck: {test: ["CMD", "curl", "-f", "http://localhost:4343/health"], interval: 10s, timeout: 3s, retries: 3}
  storage-3:
    build: .
    container_name: storage-3
    ports: ["4345:4343", "4003:4001/tcp", "4003:4001/udp"]
    env_file: ./env/storage-3.env
    volumes: [storage-3-data:/app/data]
    healthcheck: {test: ["CMD", "curl", "-f", "http://localhost:4343/health"], interval: 10s, timeout: 3s, retries: 3}
volumes:
  storage-1-data:
  storage-2-data:
  storage-3-data:
